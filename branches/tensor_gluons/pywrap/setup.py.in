#! /usr/bin/env python

from distutils.core import setup, Extension
import os

longdesc = """This is a simple SWIG wrapper on the main steering interface of
the APFEL library. It is used to create, query and use the APFEL data from 
a Python program.
"""

## Extension definition
import os
wrapsrc = '@srcdir@/apfel_wrap.cc'
incdir_src = os.path.abspath('@top_srcdir@/include')
incdir_build = os.path.abspath('@top_builddir@/include')
libdir = os.path.abspath('@top_builddir@/lib')
cxxargs = '@CXXFLAGS@'.split()
ldargs = '@LDFLAGS@'.split()
lhapdfdir = os.popen('lhapdf-config --libdir').read()
ext = Extension('_apfel',
                [wrapsrc],
                include_dirs=[incdir_src, incdir_build],
                library_dirs=[libdir, os.path.join(libdir,'.libs'), lhapdfdir.replace('\n','')],
                extra_compile_args = cxxargs,
                extra_link_args = ldargs,
                libraries=['APFEL','LHAPDF'])

## Setup definition
setup(name = 'APFEL',
      version = '@PACKAGE_VERSION@',
      #include_package_data = True,
      ext_modules=[ext],
      py_modules = ['apfel'],

      author = ['Stefano Carrazza'],
      author_email = 'stefano.carrazza@mi.infn.it',
      url = 'http://projects.hepforge.org/apfel/',
      description = '',
      long_description = longdesc,
      keywords = 'generator montecarlo simulation data hep physics particle validation analysis tuning',
      license = 'GPL',
      )

